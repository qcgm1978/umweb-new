<?php

class SiteController extends Controller
{
	/**
	 * Declares class-based actions.
	 */
	public function actions()
	{
		return array(
			// captcha action renders the CAPTCHA image displayed on the contact page
			'captcha'=>array(
				'class'=>'CCaptchaAction',
				'backColor'=>0xFFFFFF,
			),
			// page action renders "static" pages stored under 'protected/views/site/pages'
			// They can be accessed via: index.php?r=site/page&view=FileName
			'page'=>array(
				'class'=>'CViewAction',
			),
		);
	}

	/**
	 * This is the default 'index' action that is invoked
	 * when an action is not explicitly requested by users.
	 */
	public function actionIndex()
	{
        $this->menu_key = 'index';
		$info = User::info();
        $rooms = Room::getList();
		$this->render('index', array('user_info'=>$info, 'rooms'=>$rooms));
	}

	/**
	 * This is the action to handle external exceptions.
	 */
	public function actionError()
	{
		if($error=Yii::app()->errorHandler->error)
		{
			if(Yii::app()->request->isAjaxRequest)
				echo $error['message'];
			else
				$this->render('error', $error);
		}
	}

	public function actionApply(){
		$this->render('apply');
	}

	public function actionRoom($id){
		$this->layout = false;
		$room_info = Room::getInfoByAnchor($id);
        if (!$room_info) {
            $this->redirect('/');
        }
		$anchor_info = User::anchorInfo($id);  // TODO: no needs ??
        $is_fav = User::checkFav($id);
        $user_info = User::info();
        $common_info = Room::getCommonInfo();

        if (!$user_info) {
            $level = 1;
        }elseif($user_info['anchor_id'] == $id || $user_info['uid'] == $id){
            $level = 2000;
        }elseif($user_info['is_watcher']){
            $level = 6000;
        }else{
            $level = 500;
        }

		$this->render('room', array('level'=>$level, 'anchor_info'=>$anchor_info, 'room_info'=>$room_info, 'is_fav'=>$is_fav, 'common_info'=>$common_info, 'user_info'=>$user_info));
	}

    public function actionRank($top=0){
        // TODO: rank/top
        echo '{"rich":{"day":[{"rank":1,"gid":"32085990","nick":"\u5b88\u62a4\u5b5f\u5b5f-\u5c0f\u8682\u8681","avatar":"\/images\/avatar.jpg","vip":700},{"rank":2,"gid":"32092204","nick":"\u773c\u6cea\u80cc\u53db\u4e86\u6211","avatar":"\/images\/avatar.jpg","vip":400},{"rank":3,"gid":"32093386","nick":"\u6d41\u3041\u661f","avatar":"\/images\/avatar.jpg","vip":300},{"rank":4,"gid":"32093370","nick":"\u2116\u5439\u96ea\u306e\u6200","avatar":"\/images\/avatar.jpg","vip":200},{"rank":5,"gid":"32094263","nick":"\u68a6\u9192\u65f6\u5206V5","avatar":"\/images\/avatar.jpg","vip":200}],"week":[{"rank":1,"gid":"32085990","nick":"\u5b88\u62a4\u5b5f\u5b5f-\u5c0f\u8682\u8681","avatar":"\/images\/avatar.jpg","vip":700},{"rank":2,"gid":"32022327","nick":"\u571f\u5757","avatar":"\/images\/avatar.jpg","vip":400},{"rank":3,"gid":"32092204","nick":"\u773c\u6cea\u80cc\u53db\u4e86\u6211","avatar":"\/images\/avatar.jpg","vip":400},{"rank":4,"gid":"32088795","nick":"\u51b0\u5f6c","avatar":"\/images\/avatar.jpg","vip":300},{"rank":5,"gid":"32093370","nick":"\u2116\u5439\u96ea\u306e\u6200","avatar":"\/images\/avatar.jpg","vip":200}],"month":[{"rank":1,"gid":"32085990","nick":"\u5b88\u62a4\u5b5f\u5b5f-\u5c0f\u8682\u8681","avatar":"\/images\/avatar.jpg","vip":700},{"rank":2,"gid":"32032677","nick":"\u5415\u654f\u4e00\u751f\u7684\u60b2\u60e8","avatar":"\/images\/avatar.jpg","vip":700},{"rank":3,"gid":"32020375","nick":"medusa","avatar":"\/upload\/avatar\/i_32020375_ad7bc863acc50ad3b747c51c2f85b431","vip":5},{"rank":4,"gid":"32033979","nick":"\u7f14\u9020--\u672a\u5b8c\u9759\u542c\u6b4c","avatar":"\/images\/avatar.jpg","vip":1},{"rank":5,"gid":"32031346","nick":"\u82ac\u8fbe-","avatar":"\/images\/avatar.jpg","vip":500}],"supe":[{"rank":1,"gid":"32020375","nick":"medusa","avatar":"\/upload\/avatar\/i_32020375_ad7bc863acc50ad3b747c51c2f85b431","vip":5},{"rank":2,"gid":"32020386","nick":"\u6848\u53d1\u524d\u4efb","avatar":"\/images\/avatar.jpg","vip":0},{"rank":3,"gid":"8002222","nick":"\u7f14\u9020-\u7965\u53d4","avatar":"\/upload\/avatar\/i_32027620_9bad961644d8704cf5caefb8d312abed","vip":3},{"rank":4,"gid":"32028103","nick":"\u5510\u671d\u2605\u4e8c\u53d4","avatar":"\/upload\/avatar\/i_32028103_cf649e3551ccd48ccaf857602fad4fc8","vip":2},{"rank":5,"gid":"8002016","nick":"\u5f00\u5fc3e\u65cf\u2605\u4e5e\u4e10","avatar":"\/upload\/avatar\/i_32025876_b4cf04f07ea449d7992a820fa8c2d1bb","vip":2}]},"glam":{"day":[{"rank":1,"gid":"1751799","nick":"\u76db\u4e16\u8c6a\u95e8-\u82cf\u5b5f","avatar":"\/upload\/avatar\/i_32022035_9e9ad65b5b92835e32f48755e752cec4","star":"13","room_id":201895},{"rank":2,"gid":"1751826","nick":"\u6c5f\u6e56\u4e44\u5fae\u51c9","avatar":"\/upload\/avatar\/i_32021728_b6d1648f2a78f86e76d16233f18b65fd","star":"7","room_id":201885},{"rank":3,"gid":"1752051","nick":"\u5a1c\u7f8e","avatar":"\/upload\/avatar\/i_32054816_730f718db85e2e19d4dbf4ac282180b3","star":"3","room_id":202133},{"rank":4,"gid":"1751860","nick":"\u9b45\u65cf\u2605\u8c46\u8c46","avatar":"\/upload\/avatar\/i_32025863_fa7e44195fdfe0ce6507cfef6a20097b","star":"2","room_id":201923},{"rank":5,"gid":"1752062","nick":"\u53ef\u7b11","avatar":"\/upload\/avatar\/i_32059584_23a16dc68960299fc642622ef0ce7a38","star":"2","room_id":202159}],"week":[{"rank":1,"gid":"1751799","nick":"\u76db\u4e16\u8c6a\u95e8-\u82cf\u5b5f","avatar":"\/upload\/avatar\/i_32022035_9e9ad65b5b92835e32f48755e752cec4","star":"13","room_id":201895},{"rank":2,"gid":"1751826","nick":"\u6c5f\u6e56\u4e44\u5fae\u51c9","avatar":"\/upload\/avatar\/i_32021728_b6d1648f2a78f86e76d16233f18b65fd","star":"7","room_id":201885},{"rank":3,"gid":"1751852","nick":"\u9b45\u65cf\u2605\u5c0f\u5b9d\u59b9","avatar":"\/upload\/avatar\/i_32025875_362c0645fdae2e139e00b9da9a3416a3","star":"11","room_id":201922},{"rank":4,"gid":"1752062","nick":"\u53ef\u7b11","avatar":"\/upload\/avatar\/i_32059584_23a16dc68960299fc642622ef0ce7a38","star":"2","room_id":202159},{"rank":5,"gid":"1752051","nick":"\u5a1c\u7f8e","avatar":"\/upload\/avatar\/i_32054816_730f718db85e2e19d4dbf4ac282180b3","star":"3","room_id":202133}],"month":[{"rank":1,"gid":"1751799","nick":"\u76db\u4e16\u8c6a\u95e8-\u82cf\u5b5f","avatar":"\/upload\/avatar\/i_32022035_9e9ad65b5b92835e32f48755e752cec4","star":"13","room_id":201895},{"rank":2,"gid":"1752051","nick":"\u5a1c\u7f8e","avatar":"\/upload\/avatar\/i_32054816_730f718db85e2e19d4dbf4ac282180b3","star":"3","room_id":202133},{"rank":3,"gid":"666888","nick":"\u7f8a\u7fbd","avatar":"\/upload\/avatar\/i_32030648_6f0f9f1b1721029ef1bdc2a700520e4c","star":"2","room_id":202168},{"rank":4,"gid":"1751870","nick":"\u5996\u7cbe\uff1aYJ","avatar":"\/upload\/avatar\/i_32026349_c811a9118731f5576d1d7cb3d7012f98","star":"12","room_id":201937},{"rank":5,"gid":"1752054","nick":"\u5c0f\u5440\u5c0f\u6a59\u5b50","avatar":"\/upload\/avatar\/i_32050251_2fbbd21a73f8088793573c43195a961d","star":"2","room_id":202135}],"supe":[{"rank":1,"gid":"20009","nick":"\u8718\u86dbya","avatar":"\/upload\/avatar\/i_32020341_d9f684a04a96af7834c85bd48e7b07c8","star":"24","room_id":201799},{"rank":2,"gid":"32020375","nick":"medusa","avatar":"\/upload\/avatar\/i_32020375_ad7bc863acc50ad3b747c51c2f85b431","star":"15","room_id":201803},{"rank":3,"gid":"1751804","nick":"\u76db\u4e16\u8c6a\u95e8- \u51b0 \u57ce","avatar":"\/upload\/avatar\/i_32022046_09dd8c2662b96ce14928333f055c5580","star":"14","room_id":201900},{"rank":4,"gid":"1751887","nick":"\u5510\u671d\u2605\u5c10\u5751\u5751","avatar":"\/upload\/avatar\/i_32026920_0921eb18af2ec10266a361d091b61b4c","star":"13","room_id":201963},{"rank":5,"gid":"1751799","nick":"\u76db\u4e16\u8c6a\u95e8-\u82cf\u5b5f","avatar":"\/upload\/avatar\/i_32022035_9e9ad65b5b92835e32f48755e752cec4","star":"13","room_id":201895}]}}';
    }

    public function actionFamilyRecommend(){
        // TODO: anchor/familyRecommended
        $this->layout = false;
        $this->render('familyRecommend');
    }

    public function actionTop(){
        $this->menu_key = 'top';
        // TODO: real rank info
        $rank = '{"rich":{"day":[{"rank":1,"gid":"32033630","nick":"\u5361\u5361","avatar":"\/images\/avatar.jpg","vip":400},{"rank":2,"gid":"32093386","nick":"\u6d41\u3041\u661f","avatar":"\/images\/avatar.jpg","vip":300},{"rank":3,"gid":"32095372","nick":"\u4e03\u5915\u7684\u7231","avatar":"\/images\/avatar.jpg","vip":200},{"rank":4,"gid":"32095545","nick":"zhuosi327261","avatar":"\/images\/avatar.jpg","vip":200},{"rank":5,"gid":"32094995","nick":"Mark\u54e5\u4e36\u66b4\u96e8\u6cea","avatar":"\/images\/avatar.jpg","vip":300},{"rank":6,"gid":"32094956","nick":"\u8bb8\u98ce\u52b2","avatar":"\/images\/avatar.jpg","vip":200},{"rank":7,"gid":"32095924","nick":"\u5bc2\u5bde\u7684\u7537\u4eba","avatar":"\/images\/avatar.jpg","vip":200},{"rank":8,"gid":"32079436","nick":"\u79c0\u624d","avatar":"\/upload\/avatar\/i_32079436_c5a8dbc16d6dc999b53265f9f27884bb","vip":300}],"week":[{"rank":1,"gid":"32085990","nick":"\u5b88\u62a4\u5b5f\u5b5f-\u5c0f\u8682\u8681","avatar":"\/images\/avatar.jpg","vip":700},{"rank":2,"gid":"32022327","nick":"\u571f\u5757","avatar":"\/images\/avatar.jpg","vip":400},{"rank":3,"gid":"32092204","nick":"\u773c\u6cea\u80cc\u53db\u4e86\u6211","avatar":"\/images\/avatar.jpg","vip":400},{"rank":4,"gid":"32033630","nick":"\u5361\u5361","avatar":"\/images\/avatar.jpg","vip":400},{"rank":5,"gid":"32093386","nick":"\u6d41\u3041\u661f","avatar":"\/images\/avatar.jpg","vip":300},{"rank":6,"gid":"32088795","nick":"\u51b0\u5f6c","avatar":"\/images\/avatar.jpg","vip":300},{"rank":7,"gid":"32095545","nick":"zhuosi327261","avatar":"\/images\/avatar.jpg","vip":200},{"rank":8,"gid":"32093370","nick":"\u2116\u5439\u96ea\u306e\u6200","avatar":"\/images\/avatar.jpg","vip":200},{"rank":9,"gid":"32094995","nick":"Mark\u54e5\u4e36\u66b4\u96e8\u6cea","avatar":"\/images\/avatar.jpg","vip":300},{"rank":10,"gid":"32094263","nick":"\u68a6\u9192\u65f6\u5206V5","avatar":"\/images\/avatar.jpg","vip":200},{"rank":11,"gid":"32094956","nick":"\u8bb8\u98ce\u52b2","avatar":"\/images\/avatar.jpg","vip":200},{"rank":12,"gid":"32094206","nick":"\u5450\u7231\u72e0\u7f8e","avatar":"\/images\/avatar.jpg","vip":200},{"rank":13,"gid":"32094295","nick":"zhaoshou5","avatar":"\/images\/avatar.jpg","vip":200},{"rank":14,"gid":"32095372","nick":"\u4e03\u5915\u7684\u7231","avatar":"\/images\/avatar.jpg","vip":200},{"rank":15,"gid":"32095924","nick":"\u5bc2\u5bde\u7684\u7537\u4eba","avatar":"\/images\/avatar.jpg","vip":200},{"rank":16,"gid":"32079436","nick":"\u79c0\u624d","avatar":"\/upload\/avatar\/i_32079436_c5a8dbc16d6dc999b53265f9f27884bb","vip":300},{"rank":17,"gid":"32064041","nick":"\u4e0d\u6d6a\u4e0d\u7ea6","avatar":"\/images\/avatar.jpg","vip":400},{"rank":18,"gid":"32093846","nick":"a151315180","avatar":"\/images\/avatar.jpg","vip":200},{"rank":19,"gid":"32080164","nick":"\u4e1c\u5317\u54e5","avatar":"\/images\/avatar.jpg","vip":200},{"rank":20,"gid":"32049670","nick":"\u9886\u609f","avatar":"\/images\/avatar.jpg","vip":300}],"month":[{"rank":1,"gid":"32085990","nick":"\u5b88\u62a4\u5b5f\u5b5f-\u5c0f\u8682\u8681","avatar":"\/images\/avatar.jpg","vip":700},{"rank":2,"gid":"32032677","nick":"\u5415\u654f\u4e00\u751f\u7684\u60b2\u60e8","avatar":"\/images\/avatar.jpg","vip":700},{"rank":3,"gid":"32020375","nick":"medusa","avatar":"\/upload\/avatar\/i_32020375_ad7bc863acc50ad3b747c51c2f85b431","vip":0},{"rank":4,"gid":"32033979","nick":"\u7f14\u9020--\u672a\u5b8c\u9759\u542c\u6b4c","avatar":"\/images\/avatar.jpg","vip":1},{"rank":5,"gid":"32031346","nick":"\u82ac\u8fbe-","avatar":"\/images\/avatar.jpg","vip":500},{"rank":6,"gid":"32088621","nick":"\u592a\u6781","avatar":"\/images\/avatar.jpg","vip":500},{"rank":7,"gid":"32089843","nick":"\u627f\u8bfa\u592a\u5047","avatar":"\/images\/avatar.jpg","vip":400},{"rank":8,"gid":"32064041","nick":"\u4e0d\u6d6a\u4e0d\u7ea6","avatar":"\/images\/avatar.jpg","vip":400},{"rank":9,"gid":"32022327","nick":"\u571f\u5757","avatar":"\/images\/avatar.jpg","vip":400},{"rank":10,"gid":"32027592","nick":"\u4eba\u751f\u5982\u620f","avatar":"\/images\/avatar.jpg","vip":400},{"rank":11,"gid":"8002222","nick":"\u7f14\u9020-\u7965\u53d4","avatar":"\/upload\/avatar\/i_32027620_9bad961644d8704cf5caefb8d312abed","vip":3},{"rank":12,"gid":"32092204","nick":"\u773c\u6cea\u80cc\u53db\u4e86\u6211","avatar":"\/images\/avatar.jpg","vip":400},{"rank":13,"gid":"32089560","nick":"\u8d2a\u5a6a\u4f60\u6e29\u67d4de\u6cea","avatar":"\/images\/avatar.jpg","vip":400},{"rank":14,"gid":"32083007","nick":"\u8ffd\u68a6","avatar":"\/images\/avatar.jpg","vip":400},{"rank":15,"gid":"1751794","nick":"\u4e00\u8f88\u5b50\u3044\u7cd6\u7cd6","avatar":"\/upload\/avatar\/i_32024157_f8416f9d3b1d972e258fbce5f4dd41e7","vip":0},{"rank":16,"gid":"32084815","nick":"\u4e60\u70c8\u5458","avatar":"\/images\/avatar.jpg","vip":400},{"rank":17,"gid":"32088795","nick":"\u51b0\u5f6c","avatar":"\/images\/avatar.jpg","vip":300},{"rank":18,"gid":"32081770","nick":"\u4e0d\u5728\u4e4e?","avatar":"\/images\/avatar.jpg","vip":500},{"rank":19,"gid":"32021933","nick":"\u88ab\u725b\u903c\u7684","avatar":"\/images\/avatar.jpg","vip":300},{"rank":20,"gid":"32079436","nick":"\u79c0\u624d","avatar":"\/upload\/avatar\/i_32079436_c5a8dbc16d6dc999b53265f9f27884bb","vip":300}],"supe":[{"rank":1,"gid":"32020375","nick":"medusa","avatar":"\/upload\/avatar\/i_32020375_ad7bc863acc50ad3b747c51c2f85b431","vip":0},{"rank":2,"gid":"32020386","nick":"\u6848\u53d1\u524d\u4efb","avatar":"\/images\/avatar.jpg","vip":0},{"rank":3,"gid":"8002222","nick":"\u7f14\u9020-\u7965\u53d4","avatar":"\/upload\/avatar\/i_32027620_9bad961644d8704cf5caefb8d312abed","vip":3},{"rank":4,"gid":"32028103","nick":"\u5510\u671d\u2605\u4e8c\u53d4","avatar":"\/upload\/avatar\/i_32028103_cf649e3551ccd48ccaf857602fad4fc8","vip":2},{"rank":5,"gid":"8002016","nick":"\u5f00\u5fc3e\u65cf\u2605\u4e5e\u4e10","avatar":"\/upload\/avatar\/i_32025876_b4cf04f07ea449d7992a820fa8c2d1bb","vip":2},{"rank":6,"gid":"32020376","nick":"\u6012\u543c\u54e5","avatar":"\/images\/avatar.jpg","vip":700},{"rank":7,"gid":"32022067","nick":"\u90aa\u9b54","avatar":"\/images\/avatar.jpg","vip":1},{"rank":8,"gid":"7000017","nick":"\u751f\u5316\u6218\u58eb","avatar":"\/upload\/avatar\/i_32024386_4a47a0db6e60853dedfcfdf08a5ca249","vip":2},{"rank":9,"gid":"32020335","nick":"\u897f\u57df\u7684\u767d\u72fc","avatar":"\/images\/avatar.jpg","vip":700},{"rank":10,"gid":"600018","nick":"\u767d\u83dc","avatar":"\/images\/avatar.jpg","vip":1},{"rank":11,"gid":"32022327","nick":"\u571f\u5757","avatar":"\/images\/avatar.jpg","vip":400},{"rank":12,"gid":"8002012","nick":"\u9b45\u65cf\u2605\u7cca\u6d82","avatar":"\/upload\/avatar\/i_32025858_250ffabb36b94bbca022f180f40216b1","vip":1},{"rank":13,"gid":"20009","nick":"\u8718\u86dbya","avatar":"\/upload\/avatar\/i_32020341_d9f684a04a96af7834c85bd48e7b07c8","vip":1},{"rank":14,"gid":"32021485","nick":"shouxipaoniu","avatar":"\/images\/avatar.jpg","vip":0},{"rank":15,"gid":"32022243","nick":"\u5c02\u5c6c\u30c5\u51b0\u57ce\u30c5\u7334\u5b50","avatar":"\/upload\/avatar\/i_32022243_d5f837201ef1314d6e3468af76619af4","vip":700},{"rank":16,"gid":"32033979","nick":"\u7f14\u9020--\u672a\u5b8c\u9759\u542c\u6b4c","avatar":"\/images\/avatar.jpg","vip":1},{"rank":17,"gid":"32022519","nick":"\u30c5\u51b0\u57ce\u5bb6\u30c5\u8bb0\u57ce","avatar":"\/images\/avatar.jpg","vip":0},{"rank":18,"gid":"32022835","nick":"\u5c02\u5c6c\u30c5\u51b0\u57ce\u30c5\u5e7d\u7075","avatar":"\/upload\/avatar\/i_32022835_b8b973fdab2c43610681bcab1685346c","vip":700},{"rank":19,"gid":"32020380","nick":"\u5c0f\u7237\u8e66\u8df6\u6765\u53c2\u89c2","avatar":"\/upload\/avatar\/i_32020380_6bb7ee2a3187985d838a0ba665ff313c","vip":0},{"rank":20,"gid":"6503030","nick":"\u770b\u770b\u4f60","avatar":"\/images\/avatar.jpg","vip":0}]},"glam":{"day":[{"rank":1,"gid":"1751889","nick":"\u5510\u671d\u2605\u5982\u521d","avatar":"\/upload\/avatar\/i_32027217_8e3336aadd7cc0dd05dc438ea1fc7d74","star":"4","room_id":201965},{"rank":2,"gid":"1752051","nick":"\u5a1c\u7f8e","avatar":"\/upload\/avatar\/i_32054816_730f718db85e2e19d4dbf4ac282180b3","star":"3","room_id":202133},{"rank":3,"gid":"1752062","nick":"\u53ef\u7b11","avatar":"\/upload\/avatar\/i_32059584_23a16dc68960299fc642622ef0ce7a38","star":"2","room_id":202159},{"rank":4,"gid":"1751891","nick":"\u5c0f\u5c0f\u6167","avatar":"\/upload\/avatar\/i_32027087_af30756f861e3e05f7d88e11919dd225","star":"1","room_id":201967},{"rank":5,"gid":"1751860","nick":"\u9b45\u65cf\u2605\u8c46\u8c46","avatar":"\/upload\/avatar\/i_32025863_fa7e44195fdfe0ce6507cfef6a20097b","star":"2","room_id":201923},{"rank":6,"gid":"1752065","nick":"\u827a\u6797","avatar":"\/upload\/avatar\/i_32057661_eb82f23c7cf7d6c8165c65d149c84f6f","star":"1","room_id":202146}],"week":[{"rank":1,"gid":"1751799","nick":"\u76db\u4e16\u8c6a\u95e8-\u82cf\u5b5f","avatar":"\/upload\/avatar\/i_32022035_9e9ad65b5b92835e32f48755e752cec4","star":"13","room_id":201895},{"rank":2,"gid":"1751889","nick":"\u5510\u671d\u2605\u5982\u521d","avatar":"\/upload\/avatar\/i_32027217_8e3336aadd7cc0dd05dc438ea1fc7d74","star":"4","room_id":201965},{"rank":3,"gid":"1751826","nick":"\u6c5f\u6e56\u4e44\u5fae\u51c9","avatar":"\/upload\/avatar\/i_32021728_b6d1648f2a78f86e76d16233f18b65fd","star":"7","room_id":201885},{"rank":4,"gid":"1752051","nick":"\u5a1c\u7f8e","avatar":"\/upload\/avatar\/i_32054816_730f718db85e2e19d4dbf4ac282180b3","star":"3","room_id":202133},{"rank":5,"gid":"1752062","nick":"\u53ef\u7b11","avatar":"\/upload\/avatar\/i_32059584_23a16dc68960299fc642622ef0ce7a38","star":"2","room_id":202159},{"rank":6,"gid":"1751860","nick":"\u9b45\u65cf\u2605\u8c46\u8c46","avatar":"\/upload\/avatar\/i_32025863_fa7e44195fdfe0ce6507cfef6a20097b","star":"2","room_id":201923},{"rank":7,"gid":"1751852","nick":"\u9b45\u65cf\u2605\u5c0f\u5b9d\u59b9","avatar":"\/upload\/avatar\/i_32025875_362c0645fdae2e139e00b9da9a3416a3","star":"11","room_id":201922},{"rank":8,"gid":"1751870","nick":"\u5996\u7cbe\uff1aYJ","avatar":"\/upload\/avatar\/i_32026349_c811a9118731f5576d1d7cb3d7012f98","star":"12","room_id":201937},{"rank":9,"gid":"1751891","nick":"\u5c0f\u5c0f\u6167","avatar":"\/upload\/avatar\/i_32027087_af30756f861e3e05f7d88e11919dd225","star":"1","room_id":201967},{"rank":10,"gid":"1752079","nick":"\u2764\u66b4\u8d70\u841d\u8389","avatar":"\/upload\/avatar\/i_32065313_bb2a3a2f330525bfff9e3dbffb8d8018","star":"1","room_id":202165},{"rank":11,"gid":"1752038","nick":"Angel\u4e44\u7b71\u5915","avatar":"\/upload\/avatar\/i_32040905_c60e9a0d00c05d047b7009045a43bb7f","star":"1","room_id":202119},{"rank":12,"gid":"1752065","nick":"\u827a\u6797","avatar":"\/upload\/avatar\/i_32057661_eb82f23c7cf7d6c8165c65d149c84f6f","star":"1","room_id":202146}],"month":[{"rank":1,"gid":"1751799","nick":"\u76db\u4e16\u8c6a\u95e8-\u82cf\u5b5f","avatar":"\/upload\/avatar\/i_32022035_9e9ad65b5b92835e32f48755e752cec4","star":"13","room_id":201895},{"rank":2,"gid":"1752051","nick":"\u5a1c\u7f8e","avatar":"\/upload\/avatar\/i_32054816_730f718db85e2e19d4dbf4ac282180b3","star":"3","room_id":202133},{"rank":3,"gid":"666888","nick":"\u7f8a\u7fbd","avatar":"\/upload\/avatar\/i_32030648_6f0f9f1b1721029ef1bdc2a700520e4c","star":"2","room_id":202168},{"rank":4,"gid":"1751870","nick":"\u5996\u7cbe\uff1aYJ","avatar":"\/upload\/avatar\/i_32026349_c811a9118731f5576d1d7cb3d7012f98","star":"12","room_id":201937},{"rank":5,"gid":"1752054","nick":"\u5c0f\u5440\u5c0f\u6a59\u5b50","avatar":"\/upload\/avatar\/i_32050251_2fbbd21a73f8088793573c43195a961d","star":"2","room_id":202135},{"rank":6,"gid":"1751951","nick":"\u7f14\u9020-\u7531\u5e0c","avatar":"\/upload\/avatar\/i_32028152_7b218b6a50ebc1bc390c7f8698faf590","star":"8","room_id":202028},{"rank":7,"gid":"1751826","nick":"\u6c5f\u6e56\u4e44\u5fae\u51c9","avatar":"\/upload\/avatar\/i_32021728_b6d1648f2a78f86e76d16233f18b65fd","star":"7","room_id":201885},{"rank":8,"gid":"1751792","nick":"Sky\u706c\u300e\u6668\u5149\u300f","avatar":"\/upload\/avatar\/i_32023734_20e001520672e497e26c7a03044d7e80","star":"2","room_id":201909},{"rank":9,"gid":"1751852","nick":"\u9b45\u65cf\u2605\u5c0f\u5b9d\u59b9","avatar":"\/upload\/avatar\/i_32025875_362c0645fdae2e139e00b9da9a3416a3","star":"11","room_id":201922},{"rank":10,"gid":"1752062","nick":"\u53ef\u7b11","avatar":"\/upload\/avatar\/i_32059584_23a16dc68960299fc642622ef0ce7a38","star":"2","room_id":202159},{"rank":11,"gid":"1752052","nick":"\u4e00\u8f88\u5b50\u679c\u679c","avatar":"\/upload\/avatar\/i_32059039_3227a7b844fac70f6a42428821596a11","star":"1","room_id":202158},{"rank":12,"gid":"1751889","nick":"\u5510\u671d\u2605\u5982\u521d","avatar":"\/upload\/avatar\/i_32027217_8e3336aadd7cc0dd05dc438ea1fc7d74","star":"4","room_id":201965},{"rank":13,"gid":"1751965","nick":"\u5510\u671d\u2605\u9c7c\u513f","avatar":"\/upload\/avatar\/i_32027070_82b1c265fb3bb92df4386ada23d33716","star":"2","room_id":202044},{"rank":14,"gid":"1751860","nick":"\u9b45\u65cf\u2605\u8c46\u8c46","avatar":"\/upload\/avatar\/i_32025863_fa7e44195fdfe0ce6507cfef6a20097b","star":"2","room_id":201923},{"rank":15,"gid":"1751961","nick":"\u4e2b\u4e2b","avatar":"\/upload\/avatar\/i_32033545_477c424caea4ab4a34d7a935423854fb","star":"1","room_id":202040},{"rank":16,"gid":"1751821","nick":"Aoy\u30b7\u8a69\u96e8\u6db5","avatar":"\/upload\/avatar\/i_32021470_c77cd759d282c79a35d9a56fefcb85f4","star":"6","room_id":201880},{"rank":17,"gid":"1752065","nick":"\u827a\u6797","avatar":"\/upload\/avatar\/i_32057661_eb82f23c7cf7d6c8165c65d149c84f6f","star":"1","room_id":202146},{"rank":18,"gid":"1752053","nick":"\u767d\u767d\u201c\u7c73\u83f2","avatar":"\/upload\/avatar\/i_32062896_74432baf5855a4340081ff743ece6dcb","star":"1","room_id":202162},{"rank":19,"gid":"1751830","nick":"\u58f9\u8f88\u5b50\u25c7\u25c6\u30fd\u60c5\u60c5","avatar":"\/upload\/avatar\/i_32020436_735d5bc917bf57fa423dc294758474ba","star":"1","room_id":201849},{"rank":20,"gid":"1752060","nick":"\u963f\u72f8","avatar":"\/upload\/avatar\/i_32055820_1886ccfc54e36f00c935f20f6b3045f7","star":"1","room_id":202141}],"supe":[{"rank":1,"gid":"20009","nick":"\u8718\u86dbya","avatar":"\/upload\/avatar\/i_32020341_d9f684a04a96af7834c85bd48e7b07c8","star":"24","room_id":201799},{"rank":2,"gid":"32020375","nick":"medusa","avatar":"\/upload\/avatar\/i_32020375_ad7bc863acc50ad3b747c51c2f85b431","star":"15","room_id":201803},{"rank":3,"gid":"1751804","nick":"\u76db\u4e16\u8c6a\u95e8- \u51b0 \u57ce","avatar":"\/upload\/avatar\/i_32022046_09dd8c2662b96ce14928333f055c5580","star":"14","room_id":201900},{"rank":4,"gid":"1751887","nick":"\u5510\u671d\u2605\u5c10\u5751\u5751","avatar":"\/upload\/avatar\/i_32026920_0921eb18af2ec10266a361d091b61b4c","star":"13","room_id":201963},{"rank":5,"gid":"1751799","nick":"\u76db\u4e16\u8c6a\u95e8-\u82cf\u5b5f","avatar":"\/upload\/avatar\/i_32022035_9e9ad65b5b92835e32f48755e752cec4","star":"13","room_id":201895},{"rank":6,"gid":"1751870","nick":"\u5996\u7cbe\uff1aYJ","avatar":"\/upload\/avatar\/i_32026349_c811a9118731f5576d1d7cb3d7012f98","star":"12","room_id":201937},{"rank":7,"gid":"1751755","nick":"\u671b\u65cf\u4f20\u5a92-\u501f\u53e3","avatar":"\/upload\/avatar\/i_32020347_d67e75544918532d5b92fb451c17b100","star":"11","room_id":201816},{"rank":8,"gid":"1751786","nick":"\u7f8e\u8272\u5f53\u524d","avatar":"\/upload\/avatar\/i_32020366_f98b2fcda58c4ab304e1e1a413e7fcf0","star":"11","room_id":201835},{"rank":9,"gid":"1751869","nick":"\u5a9a\u513f","avatar":"\/images\/avatar.jpg","star":"11","room_id":201949},{"rank":10,"gid":"1751767","nick":"Virus-2\u83df\u00b0\u6c42\u5173\u6ce8","avatar":"\/upload\/avatar\/i_32020359_4b399cc4732276c98e39a479a08ebc4a","star":"11","room_id":201828},{"rank":11,"gid":"1752074","nick":"\u5929\u8d50-\u6a02\u5b9d\u513f","avatar":"\/upload\/avatar\/i_32022252_b6d5ffc2fbbb60f1dd4a882abf2cbbbd","star":"11","room_id":202153},{"rank":12,"gid":"1751769","nick":"Virus+\u54c7\u567b\u567b","avatar":"\/upload\/avatar\/i_32020361_28f8229001d3f2f10febbe3c53c29e5e","star":"11","room_id":201830},{"rank":13,"gid":"1751852","nick":"\u9b45\u65cf\u2605\u5c0f\u5b9d\u59b9","avatar":"\/upload\/avatar\/i_32025875_362c0645fdae2e139e00b9da9a3416a3","star":"11","room_id":201922},{"rank":14,"gid":"1751756","nick":"\u671b\u65cf\u4f20\u5a92-\u4e5d\u59d1\u5a18","avatar":"\/upload\/avatar\/i_32020348_6bd8407bf6d5ceee8602e3fad4c3511f","star":"9","room_id":201817},{"rank":15,"gid":"32053936","nick":"wangweiwen","avatar":"\/images\/avatar.jpg","star":"9","room_id":202130},{"rank":16,"gid":"1751951","nick":"\u7f14\u9020-\u7531\u5e0c","avatar":"\/upload\/avatar\/i_32028152_7b218b6a50ebc1bc390c7f8698faf590","star":"8","room_id":202028},{"rank":17,"gid":"1751826","nick":"\u6c5f\u6e56\u4e44\u5fae\u51c9","avatar":"\/upload\/avatar\/i_32021728_b6d1648f2a78f86e76d16233f18b65fd","star":"7","room_id":201885},{"rank":18,"gid":"1751958","nick":"\u5f00\u5fc3e\u65cf\u2605\u6653\u5f71","avatar":"\/upload\/avatar\/i_32031311_48e373436493f43aa9ac074a8a75ba84","star":"6","room_id":202035},{"rank":19,"gid":"1751854","nick":"\u6975\u5149\u50b3\u5a92\u2764\u6728\u5b50","avatar":"\/upload\/avatar\/i_32027063_9d6f2b4dbf85046c296a84de4cabad55","star":"6","room_id":201945},{"rank":20,"gid":"1751861","nick":"\u9b45\u65cf\u2606\u6696\u9633","avatar":"\/images\/avatar.jpg","star":"6","room_id":201924}]}}';
        $this->render('top', array('rank'=>$rank));
    }

    public function actionLogin()
    {
        $this->layout = false;
        $this->render('login');
    }
}